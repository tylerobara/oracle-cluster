postgresus:
  controllers:
    postgresus:
      strategy: Recreate
      containers:
        main:
          image:
            repository: databasus/databasus
            tag: v3.14.1
            pullPolicy: IfNotPresent

  service:
    postgresus:
      controller: postgresus
      ports:
        http:
          port: 4005

  ingress:
    postgresus:
      annotations: 
        kubernetes.io/ingress.class: traefik
        gethomepage.dev/href: "https://databasus.cloud.obara.xyz"
        gethomepage.dev/enabled: "true"
        gethomepage.dev/name: "Databasus"
        gethomepage.dev/description: "Code Sharing"
        gethomepage.dev/group: "Development"
        gethomepage.dev/icon: "sh-databasus.svg"
        traefik.ingress.kubernetes.io/router.middlewares: traefik-traefik-oidc-auth@kubernetescrd
      className: "traefik"
      hosts:
        - host: databasus.cloud.obara.xyz
          paths:
            - path: /
              pathType: Prefix
              service:
                identifier: postgresus
                port: http

  persistence:
    data:
      type: persistentVolumeClaim
      accessMode: ReadWriteOnce
      size: 100Mi
      globalMounts:
        - path: /databasus-data
